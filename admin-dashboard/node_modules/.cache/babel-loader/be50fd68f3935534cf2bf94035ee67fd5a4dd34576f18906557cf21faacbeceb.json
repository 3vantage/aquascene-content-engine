{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Card,Row,Col,Form,Input,Button,Steps,Alert,Progress,List,Tag,Divider,Space,Modal,Typography,Table,Spin,message}from'antd';import{ApiOutlined,PlayCircleOutlined,CheckCircleOutlined,ExclamationCircleOutlined,DownloadOutlined,EyeOutlined,TableOutlined,FileTextOutlined,SettingOutlined}from'@ant-design/icons';import axios from'axios';import io from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Step}=Steps;const{Title,Paragraph,Text}=Typography;const{TextArea}=Input;const AirtableWorkflow=()=>{const[form]=Form.useForm();const[currentStep,setCurrentStep]=useState(0);const[loading,setLoading]=useState(false);const[connectionStatus,setConnectionStatus]=useState(null);const[availableTables,setAvailableTables]=useState([]);const[workflowId,setWorkflowId]=useState(null);const[workflowStatus,setWorkflowStatus]=useState(null);const[logs,setLogs]=useState([]);const[results,setResults]=useState(null);const[showResultsModal,setShowResultsModal]=useState(false);const[selectedResult,setSelectedResult]=useState(null);const socketRef=useRef(null);useEffect(()=>{// Initialize WebSocket connection for real-time updates\nsocketRef.current=io(`${process.env.REACT_APP_API_URL||'http://localhost:8000'}`,{path:'/api/v1/workflows/ws'});socketRef.current.on('connect',()=>{console.log('Connected to workflow updates');});socketRef.current.on('workflow_update',data=>{console.log('Workflow update:',data);if(data.workflow_id===workflowId){setWorkflowStatus({...workflowStatus,status:data.data.status,progress:data.data.progress||0,logs:data.data.logs||[],results:data.data.results||null,error:data.data.error||null});setLogs(data.data.logs||[]);setResults(data.data.results);}});return()=>{if(socketRef.current){socketRef.current.disconnect();}};},[workflowId,workflowStatus]);const testConnection=async values=>{setLoading(true);setConnectionStatus(null);try{const response=await axios.post('/api/v1/workflows/airtable/test-connection',{airtable_api_key:values.apiKey,airtable_base_id:values.baseId,workflow_type:'connection_test'});if(response.data.success){setConnectionStatus({success:true,message:response.data.message,tables:response.data.tables});setAvailableTables(response.data.tables);setCurrentStep(1);message.success('Connection successful!');}else{setConnectionStatus({success:false,message:response.data.message});message.error('Connection failed');}}catch(error){var _error$response,_error$response$data;setConnectionStatus({success:false,message:((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message});message.error('Connection test failed');}finally{setLoading(false);}};const startAnalysis=async()=>{const values=form.getFieldsValue();setLoading(true);try{const response=await axios.post('/api/v1/workflows/airtable/schema-analysis',{airtable_api_key:values.apiKey,airtable_base_id:values.baseId,workflow_type:'schema_analysis'});setWorkflowId(response.data.workflow_id);setWorkflowStatus({workflow_id:response.data.workflow_id,status:'running',progress:0,logs:['Analysis started...'],results:null,error:null});setCurrentStep(2);message.success('Analysis started!');}catch(error){message.error('Failed to start analysis');}finally{setLoading(false);}};const runCompleteWorkflowTest=async()=>{const values=form.getFieldsValue();setLoading(true);try{const response=await axios.post('/api/v1/workflows/test-workflow',{airtable_api_key:values.apiKey,airtable_base_id:values.baseId,workflow_type:'complete_test'});setWorkflowId(response.data.workflow_id);setWorkflowStatus({workflow_id:response.data.workflow_id,status:'running',progress:0,logs:['Complete workflow test started...'],results:null,error:null});setCurrentStep(2);message.success('Complete workflow test started! This will test all components end-to-end.');}catch(error){message.error('Failed to start complete workflow test');}finally{setLoading(false);}};const createMetadataTable=async()=>{if(!workflowId)return;setLoading(true);try{const response=await axios.post(`/api/v1/workflows/airtable/create-metadata-table?workflow_id=${workflowId}`);message.success('Metadata table creation started!');setCurrentStep(3);}catch(error){message.error('Failed to start metadata table creation');}finally{setLoading(false);}};const downloadFile=async fileType=>{if(!workflowId)return;try{const response=await axios.get(`/api/v1/workflows/download/${workflowId}/${fileType}`,{responseType:'blob'});const url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download',`${fileType}_${workflowId}.${fileType.includes('json')?'json':'txt'}`);document.body.appendChild(link);link.click();link.remove();window.URL.revokeObjectURL(url);message.success(`${fileType} file downloaded!`);}catch(error){message.error('Failed to download file');}};const getStepStatus=step=>{if(step<currentStep)return'finish';if(step===currentStep){if((workflowStatus===null||workflowStatus===void 0?void 0:workflowStatus.status)==='failed')return'error';if((workflowStatus===null||workflowStatus===void 0?void 0:workflowStatus.status)==='running')return'process';if((workflowStatus===null||workflowStatus===void 0?void 0:workflowStatus.status)==='completed')return'finish';return'process';}return'wait';};const renderConnectionStep=()=>/*#__PURE__*/_jsxs(Card,{title:\"Step 1: Connect to Airtable\",children:[/*#__PURE__*/_jsxs(Form,{form:form,layout:\"vertical\",onFinish:testConnection,initialValues:{apiKey:'',baseId:''},children:[/*#__PURE__*/_jsxs(Row,{gutter:16,children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Airtable API Key\",name:\"apiKey\",rules:[{required:true,message:'Please input your Airtable API key!'}],children:/*#__PURE__*/_jsx(Input.Password,{placeholder:\"patXXXXXXXXXXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\",prefix:/*#__PURE__*/_jsx(ApiOutlined,{})})})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(Form.Item,{label:\"Airtable Base ID\",name:\"baseId\",rules:[{required:true,message:'Please input your Base ID!'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"appXXXXXXXXXXXXXX\",prefix:/*#__PURE__*/_jsx(TableOutlined,{})})})})]}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",loading:loading,icon:/*#__PURE__*/_jsx(ApiOutlined,{}),children:\"Test Connection\"})})]}),connectionStatus&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(Alert,{type:connectionStatus.success?'success':'error',message:connectionStatus.success?'Connection Successful':'Connection Failed',description:connectionStatus.message,showIcon:true}),connectionStatus.success&&availableTables.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsxs(Title,{level:5,children:[\"Available Tables (\",availableTables.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{children:availableTables.map((table,index)=>/*#__PURE__*/_jsx(Tag,{color:\"blue\",style:{margin:4},children:table},index))})]})]})]});const renderAnalysisStep=()=>/*#__PURE__*/_jsxs(Card,{title:\"Step 2: Schema Analysis\",children:[/*#__PURE__*/_jsx(Paragraph,{children:\"This step will analyze your Airtable base structure, including:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"All tables and their relationships\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Field types and validation rules\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Data patterns and quality assessment\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Business logic and computed fields\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Recommendations for improvement\"})]}),/*#__PURE__*/_jsx(Alert,{message:\"End-to-End Workflow Test Available\",description:\"Use the 'Run Complete E2E Test' button to execute the full workflow in one go: connection test \\u2192 schema analysis \\u2192 metadata table generation. This is perfect for testing the complete system functionality.\",type:\"info\",showIcon:true,style:{marginBottom:16}}),/*#__PURE__*/_jsxs(Space,{wrap:true,children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlayCircleOutlined,{}),onClick:startAnalysis,loading:loading,disabled:currentStep<1,children:\"Start Analysis\"}),/*#__PURE__*/_jsx(Button,{type:\"default\",icon:/*#__PURE__*/_jsx(CheckCircleOutlined,{}),onClick:runCompleteWorkflowTest,loading:loading,disabled:currentStep<1,style:{backgroundColor:'#52c41a',borderColor:'#52c41a',color:'white'},children:\"Run Complete E2E Test\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setCurrentStep(0),children:\"Back to Connection\"})]}),workflowStatus&&workflowStatus.status==='running'&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16},children:/*#__PURE__*/_jsx(Progress,{percent:workflowStatus.progress,status:\"active\",strokeColor:{'0%':'#108ee9','100%':'#87d068'}})}),workflowStatus&&workflowStatus.status==='completed'&&results&&/*#__PURE__*/_jsx(Alert,{type:\"success\",message:\"Analysis Complete!\",description:\"Schema analysis completed successfully. You can now create the metadata table or download the results.\",showIcon:true,style:{marginTop:16}}),workflowStatus&&workflowStatus.status==='failed'&&/*#__PURE__*/_jsx(Alert,{type:\"error\",message:\"Analysis Failed\",description:workflowStatus.error,showIcon:true,style:{marginTop:16}})]});const renderResultsStep=()=>/*#__PURE__*/_jsx(Card,{title:\"Step 3: Results & Metadata Table\",children:workflowStatus&&workflowStatus.status==='completed'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Paragraph,{children:\"Analysis completed successfully! You can now download the results or create a metadata table.\"}),/*#__PURE__*/_jsxs(Space,{wrap:true,style:{marginBottom:16},children:[/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(DownloadOutlined,{}),onClick:()=>downloadFile('json'),children:\"Download JSON Results\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(DownloadOutlined,{}),onClick:()=>downloadFile('summary'),children:\"Download Summary\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:()=>{setSelectedResult('analysis');setShowResultsModal(true);},children:\"View Results\"})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Title,{level:4,children:\"Create Metadata Table\"}),/*#__PURE__*/_jsx(Paragraph,{children:\"Generate a comprehensive metadata table in your Airtable base to document all tables and fields.\"}),/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(TableOutlined,{}),onClick:createMetadataTable,loading:loading,children:\"Create Metadata Table\"})]})});const renderLogsStep=()=>/*#__PURE__*/_jsx(Card,{title:\"Real-time Logs\",style:{marginTop:16},children:/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:300,overflowY:'auto',backgroundColor:'#f5f5f5',padding:12,borderRadius:4},children:logs.length>0?/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:logs,renderItem:(item,index)=>/*#__PURE__*/_jsx(List.Item,{style:{padding:'4px 0',borderBottom:'none'},children:/*#__PURE__*/_jsxs(Text,{code:true,style:{fontSize:12},children:[new Date().toLocaleTimeString(),\" - \",item]})})}):/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"No logs available\"})})});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Title,{level:2,children:[/*#__PURE__*/_jsx(SettingOutlined,{}),\" Airtable Schema Analysis Workflow\"]}),/*#__PURE__*/_jsx(Paragraph,{children:\"Analyze your Airtable base structure and create comprehensive metadata documentation.\"}),/*#__PURE__*/_jsxs(Steps,{current:currentStep,style:{marginBottom:24},children:[/*#__PURE__*/_jsx(Step,{title:\"Connection\",description:\"Connect to Airtable\",status:getStepStatus(0),icon:/*#__PURE__*/_jsx(ApiOutlined,{})}),/*#__PURE__*/_jsx(Step,{title:\"Analysis\",description:\"Analyze schema\",status:getStepStatus(1),icon:/*#__PURE__*/_jsx(PlayCircleOutlined,{})}),/*#__PURE__*/_jsx(Step,{title:\"Results\",description:\"Review & export\",status:getStepStatus(2),icon:/*#__PURE__*/_jsx(CheckCircleOutlined,{})})]})]}),/*#__PURE__*/_jsxs(Row,{gutter:16,style:{marginTop:16},children:[/*#__PURE__*/_jsxs(Col,{span:16,children:[currentStep===0&&renderConnectionStep(),currentStep===1&&renderAnalysisStep(),currentStep>=2&&renderResultsStep()]}),/*#__PURE__*/_jsx(Col,{span:8,children:(workflowStatus||logs.length>0)&&renderLogsStep()})]}),/*#__PURE__*/_jsx(Modal,{title:\"Analysis Results\",visible:showResultsModal,onCancel:()=>setShowResultsModal(false),width:800,footer:[/*#__PURE__*/_jsx(Button,{onClick:()=>setShowResultsModal(false),children:\"Close\"},\"close\")],children:results&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Paragraph,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Analysis completed for Base ID:\"}),\" \",form.getFieldValue('baseId')]}),/*#__PURE__*/_jsxs(Paragraph,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tables analyzed:\"}),\" \",availableTables.length]}),/*#__PURE__*/_jsx(Paragraph,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Results files:\"})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"JSON Results: \",results.json_file]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Summary Report: \",results.summary_file]})]})]})})]});};export default AirtableWorkflow;","map":{"version":3,"names":["React","useState","useEffect","useRef","Card","Row","Col","Form","Input","Button","Steps","Alert","Progress","List","Tag","Divider","Space","Modal","Typography","Table","Spin","message","ApiOutlined","PlayCircleOutlined","CheckCircleOutlined","ExclamationCircleOutlined","DownloadOutlined","EyeOutlined","TableOutlined","FileTextOutlined","SettingOutlined","axios","io","jsx","_jsx","jsxs","_jsxs","Step","Title","Paragraph","Text","TextArea","AirtableWorkflow","form","useForm","currentStep","setCurrentStep","loading","setLoading","connectionStatus","setConnectionStatus","availableTables","setAvailableTables","workflowId","setWorkflowId","workflowStatus","setWorkflowStatus","logs","setLogs","results","setResults","showResultsModal","setShowResultsModal","selectedResult","setSelectedResult","socketRef","current","process","env","REACT_APP_API_URL","path","on","console","log","data","workflow_id","status","progress","error","disconnect","testConnection","values","response","post","airtable_api_key","apiKey","airtable_base_id","baseId","workflow_type","success","tables","_error$response","_error$response$data","detail","startAnalysis","getFieldsValue","runCompleteWorkflowTest","createMetadataTable","downloadFile","fileType","get","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","includes","body","appendChild","click","remove","revokeObjectURL","getStepStatus","step","renderConnectionStep","title","children","layout","onFinish","initialValues","gutter","span","Item","label","name","rules","required","Password","placeholder","prefix","type","htmlType","icon","style","marginTop","description","showIcon","length","level","map","table","index","color","margin","renderAnalysisStep","marginBottom","wrap","onClick","disabled","backgroundColor","borderColor","percent","strokeColor","renderResultsStep","renderLogsStep","maxHeight","overflowY","padding","borderRadius","size","dataSource","renderItem","item","borderBottom","code","fontSize","Date","toLocaleTimeString","visible","onCancel","width","footer","getFieldValue","json_file","summary_file"],"sources":["/Users/kg/aquascene-content-engine/admin-dashboard/src/components/AirtableWorkflow.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Card,\n  Row,\n  Col,\n  Form,\n  Input,\n  Button,\n  Steps,\n  Alert,\n  Progress,\n  List,\n  Tag,\n  Divider,\n  Space,\n  Modal,\n  Typography,\n  Table,\n  Spin,\n  message\n} from 'antd';\nimport {\n  ApiOutlined,\n  PlayCircleOutlined,\n  CheckCircleOutlined,\n  ExclamationCircleOutlined,\n  DownloadOutlined,\n  EyeOutlined,\n  TableOutlined,\n  FileTextOutlined,\n  SettingOutlined\n} from '@ant-design/icons';\nimport axios from 'axios';\nimport io from 'socket.io-client';\n\nconst { Step } = Steps;\nconst { Title, Paragraph, Text } = Typography;\nconst { TextArea } = Input;\n\nconst AirtableWorkflow = () => {\n  const [form] = Form.useForm();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState(null);\n  const [availableTables, setAvailableTables] = useState([]);\n  const [workflowId, setWorkflowId] = useState(null);\n  const [workflowStatus, setWorkflowStatus] = useState(null);\n  const [logs, setLogs] = useState([]);\n  const [results, setResults] = useState(null);\n  const [showResultsModal, setShowResultsModal] = useState(false);\n  const [selectedResult, setSelectedResult] = useState(null);\n  const socketRef = useRef(null);\n\n  useEffect(() => {\n    // Initialize WebSocket connection for real-time updates\n    socketRef.current = io(`${process.env.REACT_APP_API_URL || 'http://localhost:8000'}`, {\n      path: '/api/v1/workflows/ws'\n    });\n\n    socketRef.current.on('connect', () => {\n      console.log('Connected to workflow updates');\n    });\n\n    socketRef.current.on('workflow_update', (data) => {\n      console.log('Workflow update:', data);\n      if (data.workflow_id === workflowId) {\n        setWorkflowStatus({\n          ...workflowStatus,\n          status: data.data.status,\n          progress: data.data.progress || 0,\n          logs: data.data.logs || [],\n          results: data.data.results || null,\n          error: data.data.error || null\n        });\n        setLogs(data.data.logs || []);\n        setResults(data.data.results);\n      }\n    });\n\n    return () => {\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n      }\n    };\n  }, [workflowId, workflowStatus]);\n\n  const testConnection = async (values) => {\n    setLoading(true);\n    setConnectionStatus(null);\n    \n    try {\n      const response = await axios.post('/api/v1/workflows/airtable/test-connection', {\n        airtable_api_key: values.apiKey,\n        airtable_base_id: values.baseId,\n        workflow_type: 'connection_test'\n      });\n\n      if (response.data.success) {\n        setConnectionStatus({\n          success: true,\n          message: response.data.message,\n          tables: response.data.tables\n        });\n        setAvailableTables(response.data.tables);\n        setCurrentStep(1);\n        message.success('Connection successful!');\n      } else {\n        setConnectionStatus({\n          success: false,\n          message: response.data.message\n        });\n        message.error('Connection failed');\n      }\n    } catch (error) {\n      setConnectionStatus({\n        success: false,\n        message: error.response?.data?.detail || error.message\n      });\n      message.error('Connection test failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const startAnalysis = async () => {\n    const values = form.getFieldsValue();\n    setLoading(true);\n    \n    try {\n      const response = await axios.post('/api/v1/workflows/airtable/schema-analysis', {\n        airtable_api_key: values.apiKey,\n        airtable_base_id: values.baseId,\n        workflow_type: 'schema_analysis'\n      });\n\n      setWorkflowId(response.data.workflow_id);\n      setWorkflowStatus({\n        workflow_id: response.data.workflow_id,\n        status: 'running',\n        progress: 0,\n        logs: ['Analysis started...'],\n        results: null,\n        error: null\n      });\n      setCurrentStep(2);\n      message.success('Analysis started!');\n    } catch (error) {\n      message.error('Failed to start analysis');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const runCompleteWorkflowTest = async () => {\n    const values = form.getFieldsValue();\n    setLoading(true);\n    \n    try {\n      const response = await axios.post('/api/v1/workflows/test-workflow', {\n        airtable_api_key: values.apiKey,\n        airtable_base_id: values.baseId,\n        workflow_type: 'complete_test'\n      });\n\n      setWorkflowId(response.data.workflow_id);\n      setWorkflowStatus({\n        workflow_id: response.data.workflow_id,\n        status: 'running',\n        progress: 0,\n        logs: ['Complete workflow test started...'],\n        results: null,\n        error: null\n      });\n      setCurrentStep(2);\n      message.success('Complete workflow test started! This will test all components end-to-end.');\n    } catch (error) {\n      message.error('Failed to start complete workflow test');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createMetadataTable = async () => {\n    if (!workflowId) return;\n    \n    setLoading(true);\n    try {\n      const response = await axios.post(`/api/v1/workflows/airtable/create-metadata-table?workflow_id=${workflowId}`);\n      \n      message.success('Metadata table creation started!');\n      setCurrentStep(3);\n    } catch (error) {\n      message.error('Failed to start metadata table creation');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const downloadFile = async (fileType) => {\n    if (!workflowId) return;\n    \n    try {\n      const response = await axios.get(\n        `/api/v1/workflows/download/${workflowId}/${fileType}`,\n        { responseType: 'blob' }\n      );\n      \n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `${fileType}_${workflowId}.${fileType.includes('json') ? 'json' : 'txt'}`);\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      window.URL.revokeObjectURL(url);\n      \n      message.success(`${fileType} file downloaded!`);\n    } catch (error) {\n      message.error('Failed to download file');\n    }\n  };\n\n  const getStepStatus = (step) => {\n    if (step < currentStep) return 'finish';\n    if (step === currentStep) {\n      if (workflowStatus?.status === 'failed') return 'error';\n      if (workflowStatus?.status === 'running') return 'process';\n      if (workflowStatus?.status === 'completed') return 'finish';\n      return 'process';\n    }\n    return 'wait';\n  };\n\n  const renderConnectionStep = () => (\n    <Card title=\"Step 1: Connect to Airtable\">\n      <Form\n        form={form}\n        layout=\"vertical\"\n        onFinish={testConnection}\n        initialValues={{\n          apiKey: '',\n          baseId: ''\n        }}\n      >\n        <Row gutter={16}>\n          <Col span={12}>\n            <Form.Item\n              label=\"Airtable API Key\"\n              name=\"apiKey\"\n              rules={[{ required: true, message: 'Please input your Airtable API key!' }]}\n            >\n              <Input.Password\n                placeholder=\"patXXXXXXXXXXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"\n                prefix={<ApiOutlined />}\n              />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item\n              label=\"Airtable Base ID\"\n              name=\"baseId\"\n              rules={[{ required: true, message: 'Please input your Base ID!' }]}\n            >\n              <Input\n                placeholder=\"appXXXXXXXXXXXXXX\"\n                prefix={<TableOutlined />}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n        \n        <Form.Item>\n          <Button \n            type=\"primary\" \n            htmlType=\"submit\" \n            loading={loading}\n            icon={<ApiOutlined />}\n          >\n            Test Connection\n          </Button>\n        </Form.Item>\n      </Form>\n\n      {connectionStatus && (\n        <div style={{ marginTop: 16 }}>\n          <Alert\n            type={connectionStatus.success ? 'success' : 'error'}\n            message={connectionStatus.success ? 'Connection Successful' : 'Connection Failed'}\n            description={connectionStatus.message}\n            showIcon\n          />\n          \n          {connectionStatus.success && availableTables.length > 0 && (\n            <div style={{ marginTop: 16 }}>\n              <Title level={5}>Available Tables ({availableTables.length})</Title>\n              <div>\n                {availableTables.map((table, index) => (\n                  <Tag key={index} color=\"blue\" style={{ margin: 4 }}>\n                    {table}\n                  </Tag>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </Card>\n  );\n\n  const renderAnalysisStep = () => (\n    <Card title=\"Step 2: Schema Analysis\">\n      <Paragraph>\n        This step will analyze your Airtable base structure, including:\n      </Paragraph>\n      <ul>\n        <li>All tables and their relationships</li>\n        <li>Field types and validation rules</li>\n        <li>Data patterns and quality assessment</li>\n        <li>Business logic and computed fields</li>\n        <li>Recommendations for improvement</li>\n      </ul>\n\n      <Alert\n        message=\"End-to-End Workflow Test Available\"\n        description=\"Use the 'Run Complete E2E Test' button to execute the full workflow in one go: connection test → schema analysis → metadata table generation. This is perfect for testing the complete system functionality.\"\n        type=\"info\"\n        showIcon\n        style={{ marginBottom: 16 }}\n      />\n      \n      <Space wrap>\n        <Button\n          type=\"primary\"\n          icon={<PlayCircleOutlined />}\n          onClick={startAnalysis}\n          loading={loading}\n          disabled={currentStep < 1}\n        >\n          Start Analysis\n        </Button>\n        <Button\n          type=\"default\"\n          icon={<CheckCircleOutlined />}\n          onClick={runCompleteWorkflowTest}\n          loading={loading}\n          disabled={currentStep < 1}\n          style={{ backgroundColor: '#52c41a', borderColor: '#52c41a', color: 'white' }}\n        >\n          Run Complete E2E Test\n        </Button>\n        <Button onClick={() => setCurrentStep(0)}>\n          Back to Connection\n        </Button>\n      </Space>\n\n      {workflowStatus && workflowStatus.status === 'running' && (\n        <div style={{ marginTop: 16 }}>\n          <Progress \n            percent={workflowStatus.progress} \n            status=\"active\"\n            strokeColor={{\n              '0%': '#108ee9',\n              '100%': '#87d068',\n            }}\n          />\n        </div>\n      )}\n\n      {workflowStatus && workflowStatus.status === 'completed' && results && (\n        <Alert\n          type=\"success\"\n          message=\"Analysis Complete!\"\n          description=\"Schema analysis completed successfully. You can now create the metadata table or download the results.\"\n          showIcon\n          style={{ marginTop: 16 }}\n        />\n      )}\n\n      {workflowStatus && workflowStatus.status === 'failed' && (\n        <Alert\n          type=\"error\"\n          message=\"Analysis Failed\"\n          description={workflowStatus.error}\n          showIcon\n          style={{ marginTop: 16 }}\n        />\n      )}\n    </Card>\n  );\n\n  const renderResultsStep = () => (\n    <Card title=\"Step 3: Results & Metadata Table\">\n      {workflowStatus && workflowStatus.status === 'completed' && (\n        <div>\n          <Paragraph>\n            Analysis completed successfully! You can now download the results or create a metadata table.\n          </Paragraph>\n          \n          <Space wrap style={{ marginBottom: 16 }}>\n            <Button\n              icon={<DownloadOutlined />}\n              onClick={() => downloadFile('json')}\n            >\n              Download JSON Results\n            </Button>\n            <Button\n              icon={<DownloadOutlined />}\n              onClick={() => downloadFile('summary')}\n            >\n              Download Summary\n            </Button>\n            <Button\n              icon={<EyeOutlined />}\n              onClick={() => {\n                setSelectedResult('analysis');\n                setShowResultsModal(true);\n              }}\n            >\n              View Results\n            </Button>\n          </Space>\n          \n          <Divider />\n          \n          <Title level={4}>Create Metadata Table</Title>\n          <Paragraph>\n            Generate a comprehensive metadata table in your Airtable base to document all tables and fields.\n          </Paragraph>\n          \n          <Button\n            type=\"primary\"\n            icon={<TableOutlined />}\n            onClick={createMetadataTable}\n            loading={loading}\n          >\n            Create Metadata Table\n          </Button>\n        </div>\n      )}\n    </Card>\n  );\n\n  const renderLogsStep = () => (\n    <Card title=\"Real-time Logs\" style={{ marginTop: 16 }}>\n      <div style={{ maxHeight: 300, overflowY: 'auto', backgroundColor: '#f5f5f5', padding: 12, borderRadius: 4 }}>\n        {logs.length > 0 ? (\n          <List\n            size=\"small\"\n            dataSource={logs}\n            renderItem={(item, index) => (\n              <List.Item style={{ padding: '4px 0', borderBottom: 'none' }}>\n                <Text code style={{ fontSize: 12 }}>\n                  {new Date().toLocaleTimeString()} - {item}\n                </Text>\n              </List.Item>\n            )}\n          />\n        ) : (\n          <Text type=\"secondary\">No logs available</Text>\n        )}\n      </div>\n    </Card>\n  );\n\n  return (\n    <div>\n      <Card>\n        <Title level={2}>\n          <SettingOutlined /> Airtable Schema Analysis Workflow\n        </Title>\n        <Paragraph>\n          Analyze your Airtable base structure and create comprehensive metadata documentation.\n        </Paragraph>\n        \n        <Steps current={currentStep} style={{ marginBottom: 24 }}>\n          <Step \n            title=\"Connection\" \n            description=\"Connect to Airtable\"\n            status={getStepStatus(0)}\n            icon={<ApiOutlined />}\n          />\n          <Step \n            title=\"Analysis\" \n            description=\"Analyze schema\"\n            status={getStepStatus(1)}\n            icon={<PlayCircleOutlined />}\n          />\n          <Step \n            title=\"Results\" \n            description=\"Review & export\"\n            status={getStepStatus(2)}\n            icon={<CheckCircleOutlined />}\n          />\n        </Steps>\n      </Card>\n\n      <Row gutter={16} style={{ marginTop: 16 }}>\n        <Col span={16}>\n          {currentStep === 0 && renderConnectionStep()}\n          {currentStep === 1 && renderAnalysisStep()}\n          {currentStep >= 2 && renderResultsStep()}\n        </Col>\n        <Col span={8}>\n          {(workflowStatus || logs.length > 0) && renderLogsStep()}\n        </Col>\n      </Row>\n\n      <Modal\n        title=\"Analysis Results\"\n        visible={showResultsModal}\n        onCancel={() => setShowResultsModal(false)}\n        width={800}\n        footer={[\n          <Button key=\"close\" onClick={() => setShowResultsModal(false)}>\n            Close\n          </Button>\n        ]}\n      >\n        {results && (\n          <div>\n            <Paragraph>\n              <strong>Analysis completed for Base ID:</strong> {form.getFieldValue('baseId')}\n            </Paragraph>\n            <Paragraph>\n              <strong>Tables analyzed:</strong> {availableTables.length}\n            </Paragraph>\n            <Paragraph>\n              <strong>Results files:</strong>\n            </Paragraph>\n            <ul>\n              <li>JSON Results: {results.json_file}</li>\n              <li>Summary Report: {results.summary_file}</li>\n            </ul>\n          </div>\n        )}\n      </Modal>\n    </div>\n  );\n};\n\nexport default AirtableWorkflow;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
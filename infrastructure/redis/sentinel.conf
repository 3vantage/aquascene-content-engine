# AquaScene Content Engine - Redis Sentinel Configuration (Production)
# Version: 1.0

# Sentinel port
port 26379

# Sentinel working directory
dir /tmp

# Monitor the Redis master
# sentinel monitor <master-name> <ip> <port> <quorum>
sentinel monitor redis-master 172.20.0.20 6379 2

# Master authentication
sentinel auth-pass redis-master ${PROD_REDIS_PASSWORD}

# Sentinel timeouts and thresholds
sentinel down-after-milliseconds redis-master 5000
sentinel failover-timeout redis-master 60000
sentinel parallel-syncs redis-master 1

# Sentinel notification scripts (optional)
# sentinel notification-script redis-master /var/redis/notify.sh
# sentinel client-reconfig-script redis-master /var/redis/reconfig.sh

# Sentinel logging
logfile /var/log/redis/sentinel.log
loglevel notice

# Sentinel security
protected-mode yes
requirepass ${PROD_REDIS_PASSWORD}

# Deny dangerous commands
sentinel deny-scripts-reconfig yes

# Resolve hostname
sentinel resolve-hostnames yes
sentinel announce-hostnames yes